<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PDF 필기 공간</title>
  <link rel="stylesheet" th:href="@{/css/note.css}" />
  
</head>
<body>

<div class="app">

  <!-- 상단 헤더 -->
  <header>
	<input type="hidden" id="studentId" th:value="${session.student.id}">
    <div class="logo-badge">PDF 필기 공간</div>
    <div class="h-actions">
      <button id="btnPick" class="btn">PDF 열기</button>
      <input id="fileInput" type="file" accept="application/pdf" hidden />
      <button id="btnSave" class="btn">필기 저장</button>
    </div>
  </header>

  <!-- 좌우 split -->
  <div class="split" id="split">

    <!-- 왼쪽: PDF 뷰어 -->
    <section class="pane viewer" id="viewerPane">
      <div class="viewer-toolbar">
        <span class="muted">PDF 보기</span>
      </div>

      <div class="dropzone" id="dropzone">
        <div class="placeholder" id="placeholder">
          <p>여기로 PDF를 끌어 놓거나</p>
          <p class="muted">상단 "PDF 열기" 버튼을 누르세요.</p>
        </div>

        <!-- PDF 표시 -->
        <object id="pdf" type="application/pdf" data="" aria-label="PDF preview"></object>
      </div>
    </section>

    <!-- 오른쪽: 필기 -->
    <section class="pane notes">

      <div class="notes-toolbar">
        <span class="muted">필기</span>

        <!-- 카테고리 -->
        <div class="note-category-select">
          <label>카테고리</label>
		  <span id="currentCategoryLabel">기본 카테고리</span>
          <select id="categorySelect"></select>
          
		  <button id="btnAddCategory" class="btn small">+ 추가</button>
		  <span id="current-category" style="margin-left: 10px; font-weight: bold;"></span>
        </div>

        <div class="grow"></div>
        <button id="btnCopy" class="btn small">복사</button>

        <label class="toggle">
          <input type="checkbox" id="previewToggle" /> 필기가리기
        </label>
      </div>

      <div class="notes-body">
        <textarea id="note" placeholder="여기에 필기하세요"></textarea>
        <div id="preview" class="preview"></div>
      </div>

    </section>
  </div>

</div>


<script th:src="@{/js/note.js}" defer></script>
</body>
</html>
